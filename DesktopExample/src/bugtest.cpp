/*
   This example has an overflow on message buffer
*/
#include <iostream>
#include <pdulib.h>

char *pduIn = "07917952140230F2040C91795254198968000022705022327121808080604028180E880468C1003D1C90886442A9582E988C06C4E9783EA09068442A994EA8946AC56AB95EB0986C46ABD96EB89C6EC7EBF97EC0A070482C1A8FC8A472C96C3A9FD0A8744AAD5AAFD8AC76CBED7ABFE0B0784C2E9BCFE8B47ACD6EBBDFF0B87C4EAFDBEFF8BC7ECFEFFBFF";
//char *pduIn = "06918919015000400C918919821020300008227070116181818C050003510201005500700064006100740065004000440065007600690063006500490064003D00320036003200370032004000440065007600690063006500550072006C003D0068007400740070003A002F002F00390034002E003100380032002E003100350034002E00320038002F006B00650079007000610064002F0068006F006D0065004000440065";
//char *pduIn = "06918919015000640A8089050034700008227070115214818C050003CD0201005500700064006100740065004000440065007600690063006500490064003D00320036003200370032004000440065007600690063006500550072006C003D0068007400740070003A002F002F00390034002E003100380032002E003100350034002E00320038002F006B00650079007000610064002F0068006F006D0065004000440065";

void bufOvflow(PDU mypdu) {
    if (mypdu.decodePDU(pduIn)) {
        std::cout << mypdu.getSCAnumber() << std::endl;
        std::cout << mypdu.getSender() << std::endl;
        std::cout << mypdu.getTimeStamp() << std::endl;
        if (mypdu.getOverflow())
            std::cout << "Warning, partial message only\n";
        std::cout << mypdu.getText() << std::endl;
    }
}